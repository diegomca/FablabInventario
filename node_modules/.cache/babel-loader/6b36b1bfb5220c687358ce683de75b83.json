{"ast":null,"code":"import _slicedToArray from \"/Users/diego/Documents/8_semestre/Taller-de-Aplicaciones/inventario/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/diego/Documents/8_semestre/Taller-de-Aplicaciones/inventario/src/login/Login.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Button, Form, Grid, Header, Segment, Message } from 'semantic-ui-react';\nimport Barrasuperior from './Barrasuperior';\nimport BackgroundSlider from 'react-background-slider';\nimport image1 from '../img/login/slide-img-1.jpg';\nimport image2 from '../img/login/slide-img-2.jpg';\nimport image3 from '../img/login/slide-img-3.png';\nimport axios from 'axios';\nimport './Login.css'; //Sincere@april.biz\n//Bret\n\nfunction Login() {\n  axios.defaults.headers.Authorization = 'Bearer ' + localStorage.getItem('token');\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        usersApi = _useState2[0],\n        setUsersApi = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userNick = _useState4[0],\n        setUserNick = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        userPassword = _useState6[0],\n        setUserPassword = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        errorCuenta = _useState8[0],\n        setError = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        errorUser = _useState10[0],\n        setErrorUser = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        errorpassport = _useState12[0],\n        setErrorPassport = _useState12[1];\n\n  var bandera = false; //const [hasError, setErrors] = useState(false)\n\n  const getAuth = () => {\n    return axios.post(\"/api/v1/admin/login\", {\n      correo: userNick,\n      password: userPassword\n    }).then(response => {\n      window.localStorage.setItem('token', response.data.token);\n      bandera = true;\n      window.localStorage.setItem('user', response.data.type);\n      window.location = '/home';\n    })\n    /*.catch(          \n    if (!bandera) {\n      setError(true);\n      console.log('error');\n      setUserPassword('');\n    })*/\n    ;\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (userNick === '' || userPassword === '') {\n      setError(false);\n\n      if (userNick === '') {\n        setErrorUser(true);\n      } else {\n        setErrorUser(false);\n      }\n\n      if (userPassword === '') {\n        setErrorPassport(true);\n      } else {\n        setErrorPassport(false);\n      }\n    } else {\n      setErrorUser(false);\n      setErrorPassport(false);\n      getAuth();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Barrasuperior, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(BackgroundSlider, {\n    images: [image2, image1, image3],\n    duration: 5,\n    transition: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    textAlign: \"center\",\n    verticalAlign: \"middle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Grid.Column, {\n    style: {\n      maxWidth: 400\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, errorCuenta ? React.createElement(Message, {\n    negative: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Message.Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Datos Incorrectos\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Nombre de Usuario o contrase\\xF1a son invalidas, Intente nuevamente\")) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(Segment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Header, {\n    as: \"h2\",\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Ingreso a Fablab Inventario\"), React.createElement(Form, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, errorUser ? React.createElement(Form.Input, {\n    error: true,\n    fluid: true,\n    icon: \"user\",\n    iconPosition: \"left\",\n    placeholder: \"Usuario\",\n    value: userNick,\n    onChange: e => setUserNick(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }) : React.createElement(Form.Input, {\n    fluid: true,\n    icon: \"user\",\n    iconPosition: \"left\",\n    placeholder: \"Usuario\",\n    value: userNick,\n    onChange: e => setUserNick(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), errorpassport ? React.createElement(Form.Input, {\n    error: true,\n    fluid: true,\n    icon: \"lock\",\n    iconPosition: \"left\",\n    placeholder: \"Contrase\\xF1a\",\n    type: \"password\",\n    onChange: e => setUserPassword(e.target.value),\n    value: userPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }) : React.createElement(Form.Input, {\n    fluid: true,\n    icon: \"lock\",\n    iconPosition: \"left\",\n    placeholder: \"Contrase\\xF1a\",\n    type: \"password\",\n    onChange: e => setUserPassword(e.target.value),\n    value: userPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(Button, {\n    color: \"instagram\",\n    fluid: true,\n    size: \"large\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Iniciar Sesi\\xF3n\")))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/diego/Documents/8_semestre/Taller-de-Aplicaciones/inventario/src/login/Login.jsx"],"names":["React","useState","useEffect","Button","Form","Grid","Header","Segment","Message","Barrasuperior","BackgroundSlider","image1","image2","image3","axios","Login","defaults","headers","Authorization","localStorage","getItem","usersApi","setUsersApi","userNick","setUserNick","userPassword","setUserPassword","errorCuenta","setError","errorUser","setErrorUser","errorpassport","setErrorPassport","bandera","getAuth","post","correo","password","then","response","window","setItem","data","token","type","location","handleSubmit","evt","preventDefault","maxWidth","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Form, Grid, Header, Segment, Message } from 'semantic-ui-react';\nimport Barrasuperior from './Barrasuperior'\nimport BackgroundSlider from 'react-background-slider'\nimport image1 from '../img/login/slide-img-1.jpg'\nimport image2 from '../img/login/slide-img-2.jpg'\nimport image3 from '../img/login/slide-img-3.png'\nimport axios from 'axios';\nimport './Login.css'\n\n\n//Sincere@april.biz\n//Bret\nfunction Login() {\n\n    axios.defaults.headers.Authorization = 'Bearer ' + localStorage.getItem('token')\n    const [usersApi, setUsersApi] = useState(\"\");\n    const [userNick, setUserNick] = useState(\"\");\n    const [userPassword, setUserPassword] = useState(\"\");\n    const [errorCuenta, setError] = useState(false);\n    const [errorUser, setErrorUser] = useState(false);\n    const [errorpassport, setErrorPassport] = useState(false);\n    var bandera = false;\n    //const [hasError, setErrors] = useState(false)\n\n    const getAuth = () => {\n        return (\n            axios\n                .post(`/api/v1/admin/login`,\n                    { correo: userNick, password: userPassword })\n                .then(response => {\n                    window.localStorage.setItem('token', response.data.token)\n                    bandera = true;\n                    window.localStorage.setItem('user', response.data.type)\n                    window.location = '/home'\n                })/*.catch(          \n                if (!bandera) {\n                    setError(true);\n                    console.log('error');\n                    setUserPassword('');\n            })*/ )\n    }\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        if (userNick === '' || userPassword === '') {\n            setError(false);\n            if (userNick === '') {\n                setErrorUser(true);\n            } else {\n                setErrorUser(false);\n            }\n            if (userPassword === '') {\n                setErrorPassport(true);\n\n            } else {\n                setErrorPassport(false);\n            }\n        } else {\n            setErrorUser(false);\n            setErrorPassport(false);\n            getAuth();\n\n\n        }\n    }\n\n    return (\n        <div>\n            <Barrasuperior />\n            <div className=\"Login\">\n                <BackgroundSlider images={[image2, image1, image3]}\n                    duration={5} transition={2} />\n                <Grid textAlign=\"center\" verticalAlign=\"middle\">\n                    <Grid.Column style={{ maxWidth: 400 }}>\n                        {errorCuenta ? <Message negative><Message.Header>Datos Incorrectos</Message.Header>\n                            <p>Nombre de Usuario o contraseña son invalidas, Intente nuevamente</p>\n                        </Message> : <div></div>}\n                        <Segment>\n                            <Header as=\"h2\" textAlign=\"center\">\n                                Ingreso a Fablab Inventario\n                        </Header>\n                            <Form size=\"large\" >\n                                {errorUser ? <Form.Input\n                                    error\n                                    fluid\n                                    icon=\"user\"\n                                    iconPosition=\"left\"\n                                    placeholder=\"Usuario\"\n                                    value={userNick}\n                                    onChange={e => setUserNick(e.target.value)}\n                                /> : <Form.Input\n                                        fluid\n                                        icon=\"user\"\n                                        iconPosition=\"left\"\n                                        placeholder=\"Usuario\"\n                                        value={userNick}\n                                        onChange={e => setUserNick(e.target.value)}\n                                    />}\n                                {errorpassport ? <Form.Input\n                                    error\n                                    fluid\n                                    icon=\"lock\"\n                                    iconPosition=\"left\"\n                                    placeholder=\"Contraseña\"\n                                    type=\"password\"\n                                    onChange={e => setUserPassword(e.target.value)}\n                                    value={userPassword}\n\n                                /> : <Form.Input\n                                        fluid\n                                        icon=\"lock\"\n                                        iconPosition=\"left\"\n                                        placeholder=\"Contraseña\"\n                                        type=\"password\"\n                                        onChange={e => setUserPassword(e.target.value)}\n                                        value={userPassword}\n\n                                    />}\n                                <Button color=\"instagram\" fluid size=\"large\" type=\"submit\" onClick={handleSubmit} >\n                                    Iniciar Sesión\n                                </Button>\n                            </Form>\n                        </Segment>\n                    </Grid.Column>\n                </Grid>\n            </div>\n\n        </div>\n    );\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}